{% extends "base.html" %}
{% block content %}

<a href="{{ url_for('get_recipes') }}"><i class="far fa-arrow-alt-circle-left fa-3x"></i></a>


<div class="container">
  <!-- if image url exists, use that-->
  {% if recipe.recipe_img %}
  <img class="responsive-img" src="{{ recipe.recipe_img }}">
  <!-- else, use default image -->
  {% else %}
  <img class="responsive-img" src="../static/img/vegetables1.jpg">
  {% endif %}
  <div class="row">
    <a href="" id="heart-btn-view" class="btn tooltipped btn-floating green btn-small" data-position="bottom"
      data-tooltip="Add to Favorites"><i class="fas fa-heart"></i></a>
    <a href="" id="rate-btn-view" class="btn tooltipped btn-floating green btn-small" data-position="bottom"
      data-tooltip="Give a Rating"><i class="fas fa-star"></i></a>
    {% if session.user|lower == recipe.created_by|lower %}
    <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}" id="delete-btn-view" data-target="modal1"
      class="btn tooltipped btn-floating green modal-trigger btn-small delete-btn" data-position="bottom"
      data-tooltip="Delete Recipe"><i class="fas fa-trash"></i></a>
    <!-- Modal that asks for confirmation before deleting recipe -->
    <div id="modal1" class="modal">
      <div class="modal-content">
        <h4>Are you sure you want to delete this recipe?</h4>
        <p>A bunch of text</p>
      </div>
      <div class="modal-footer">
        <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}"
          class="modal-close waves-effect waves-green btn-flat">Yes</a>
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
      </div>
    </div>
    <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" id="edit-btn-view"
      class="btn tooltipped btn-floating green btn-small" data-position="bottom" data-tooltip="Edit Recipe"><i
        class="far fa-edit"></i></a>
    {% endif %}
    <div class="col s3 created-by-view">
      <p></p><em>Added by: {{ recipe.created_by }}</em></p>
    </div>
  </div>
  <h3>{{ recipe.recipe_name }}</h3>
  <h5>{{ recipe.recipe_description }}</h5>
  <h6>Difficulty:</h6>
  <p>{{ recipe.difficulty_name }}</p>
  <h6>Category:</h6>
  <p>{{ recipe.category_name }}</p>
  <h5>Ingredients</h5>
  {% for ingredient in recipe.ingredients %}
  <li>{{ ingredient }}</li>
  {% endfor %}
  
  
  <h5>Instructions</h5>
  <ol>
    <li>{{ recipe.instructions }}</li>
  </ol>
</div>


{% endblock %}